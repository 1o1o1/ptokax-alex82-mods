PtokaX 0.5.2.1 mod 2
---------------

Приветствую тебя, глубокоуважаемый анонимус! Ты только что скачал PtokaX 0.5.2.1, модифицированную под собственные нужды, а затем выложенную в сеть Интернет неким alex82. С полным списком изменений можно ознакомиться в файле Changelog-alex82.txt. Скачать последнюю версию сборки можно здесь: http://mydc.ru/topic5423.html

Параметры командной строки:
-c <configdir>	- абсолютный путь к директории конфигурации PtokaX (где лежат папки cfg, logs, scripts, texts, и.т.д.).
-i <имя службы>	- установить как системную службу.
-u <имя службы>	- удалить службу.
-s <имя службы>	- запустить как службу.
-h			- показать справку.
-m			- показать меню настройки PtokaX.
-p <pidfile>- путь и имя pid-файла.
-v			- показать версию PtokaX (включая номер и дату сборки).

Важные замечания:
	Версия сборки для 32-разрядных систем несовместима с библиотеками от оригинальной версии. Вместо них следует использовать библиотеки от Lua-AIO или RusHub. По этой же причине могут не работать некоторые скрипты - имена библиотек оригинальной PtokaX отличаются от нормальных. К скриптам, изначально написанным под linux'овую PtokaX это не относится, поскольку под linux'ом имена библиотек всегда нормальные. В остальных случаях необходимо вручную изменить PXLfs на lfs во всех скриптах.
	
	База IP-To-Country, использовавшаяся в более ранних версиях PtokaX, к текущей версии не подходит. И можете даже не пробовать переименовывать ip-to-country.csv в IPToCountry.csv - новая база имеет другой формат. Скачать базы IP-To-Country, совместимые с данной версией PtokaX, можно по этим ссылкам:
	http://software77.net/geo-ip/?DL=1 - для адресов IPV4
	http://software77.net/geo-ip/?DL=7 - для адресов IPV6
	
Установка под linux (протестировано на Debian):
	Устанавливаем утилиты, библиотеки и модули Lua:
	aptitude -y install g++ make zlib1g zlib1g-dev lua5.1 liblua5.1-0 liblua5.1-0-dev liblua5.1-filesystem0 liblua5.1-socket2 lua5.1-socket
	
	Собираем и устанавливаем PtokaX:
	cd /path/to/ptokax && make ptokax install clean
	Для сборки PtokaX, хранящей пароли в зашифрованном виде, необходимо заменить ptokax на ptokax_hashpass
	
	Управление:
	service ptokax start	- запуск
	service ptokax stop		- остановка
	service ptokax restart	- перезапуск
	service ptokax status	- статус (запущена/не запущена)
	
	По умолчанию PtokaX будет работать от root'а. Изменить можно в /etc/init.d/ptokax.

Домашняя страница: http://www.PtokaX.org

Русскоязычный форум: http://MyDC.ru